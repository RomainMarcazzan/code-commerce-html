const burger=document.querySelector(".burger"),navLinks=document.querySelector(".nav-links");burger.addEventListener("click",(()=>{navLinks.classList.toggle("nav-active"),burger.classList.toggle("toggle")})),document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"}),navLinks.classList.contains("nav-active")&&(navLinks.classList.remove("nav-active"),burger.classList.remove("toggle"))}))}));const contactForm=document.querySelector(".contact-form");if(contactForm){const e=contactForm.querySelector("#form-message-success"),t=contactForm.querySelector("#form-message-error");contactForm.addEventListener("submit",(async function(n){n.preventDefault();const s=this.querySelector('button[type="submit"]'),o=s.textContent;e.style.display="none",e.textContent="",t.style.display="none",t.textContent="",s.disabled=!0,s.textContent="Envoi en cours...";const r=new FormData(this),c={};r.forEach(((e,t)=>{c[t]=e}));try{const n=await fetch("https://api.code-commerce.fr/v1/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(n.ok)e.textContent="Message envoyé avec succès !",e.style.display="block",this.reset();else{let e={message:"Une erreur inconnue s'est produite."};try{e=await n.json()}catch(e){}t.textContent=e.message||"Erreur lors de l'envoi du message.",t.style.display="block"}}catch(e){t.textContent="Erreur réseau. Veuillez réessayer.",t.style.display="block"}finally{s.disabled=!1,s.textContent=o}}))}